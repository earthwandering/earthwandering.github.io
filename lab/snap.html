<!doctype html>
<html>
  <head>
	<script src="/js/Snap.svg-0.3.0/dist/snap.svg.js"></script>
	<script src="/js/jquery-1.10.2.min.js"></script>
	<style type="text/css">
		#svg {
			width: 400px;
			height: 400px;
			border: 1px solid black;
		}
	</style>
	<script type="text/javascript">
		var group1;
		var text;
		var steph;
		
        $(document).ready(function () {
			console.log("Howdy log 2");

			var paper = Snap("#svg");
			var circ1 = paper.circle(100, 100, 50); 
			var circ2 = paper.circle(200, 150, 100);
			group1 = paper.group(circ2, circ1);

			text = paper.text(0, 80, "Hello World"); 
			text.attr({"font-size":100});

			group1.attr({
			   fill: "#ff0000", 
			   stroke: "#0000ff", 
			   strokeWidth: 11 
			});
			
			steph = paper.image("steph.png",0,0,78,90)
			
			advance();
		});
		
		var a = 10;
		var b = 10;
		var c = 0;
		var d = 0;
		var e = 0;
		
		function advance() {
			a += 2; b += 2; c += 2; d += -2; e += 3;
			var t = new Snap.Matrix(); 
			t.translate(a, b); 
			t.rotate(c, 100, 100); 

			var u = new Snap.Matrix(); 
			u.translate(a, b); 
			u.rotate(d, 100, 100); 

			var v = new Snap.Matrix();
			v.translate(e, e);
			v.rotate(e, 50, 50);
			
			group1.transform(u);
			text.transform(t);
			steph.transform(v);
			
			
			setTimeout("advance()", 50);
		}
		
		/*
		function primitiveAnimate() {
			advance();
		}
		*/
		
	</script>
  </head>
  <body>
  	<h3>
  		Transform 3
	  	<input type="button" onclick="primitiveAnimate()" value="Advance" />
  	</h3>
    <svg id="svg"></svg>
  </body>
</html>